<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Rover Commander</title>

    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/css/dashboard1.css" rel="stylesheet">
    <link href="/static/css/mapstyle.css" rel="stylesheet">
    <link href="/static/css/toastr.css" rel="stylesheet">

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/togglebar.js"></script>
    <script src="/static/js/bootbox.js"></script>
    <link href="/static/css/bootstrap-switch.css" rel="stylesheet">
    <script src="/static/js/bootstrap-switch.js"></script>
    <script src="/static/js/toastr.js"></script>
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
    var resp=[];
    	$(document).ready(function () {
    			$.ajax({
			         type:"POST",
			         url:"/test/",
			         data: {
			                'planName': 'lol',  //plan name
			                },
			         success: function(response){
			             console.log(response)
			         }
			      });

			  $('#change').click(function () 
			  {
				  $.ajax({
			         type:"POST",
			         url:"/jsonData/",
			         data: {
			                'planName': 'lol',  //plan name
			                },
			         success: function(response){
			             $("#planMenu1").empty()

					  	for(i = 0; i < response.planName.length; i++)
					  	{
					  		$("#planMenu1").append('<a href="#" class="list-group-item abcd">' + response.planName[i] + '<span class="badge">'+ response.totalMarkers[i] +'</span> </a>'); 	
					  	}
			         }
			      });	
		      });

		      $('#planMenu1').on('click', '.abcd', function (event) {
		    	 var target = event.target || event.srcElement;
    			 console.log ( event.currentTarget.firstChild.data ); 

    			 $.ajax({
			         type:"POST",
			         url:"//",
			         data: {
			                'planName': 'lol',  //plan name
			                },
			         success: function(response){
			             $("#planMenu1").empty()

					  	for(i = 0; i < response.planName.length; i++)
					  	{
					  		$("#planMenu1").append('<a href="#" class="list-group-item abcd">' + response.planName[i] + '<span class="badge">'+ response.totalMarkers[i] +'</span> </a>'); 	
					  	}
			         }
			      });

			  });
		});

		

    </script>
  </head>

  <body>

<div class="panel panel-success">
  <div class="panel-heading">Plans</div>
  <div class="panel-body">
  <a href="#" class="list-group-item abcd">Morbi leo risus</a>
  </div>
</div>

<div class="list-group">
  <span class="list-group-item active">
   <center> Cras justo odio  </center>
  </span>
  <div id="planMenu1">
  	<a href="#" class="list-group-item">Dapibus ac facilisis in <span class="badge">14</span> </a>
  </div>
</div>

<button id="change" class="btn btn-primary">Submit</button>

    <script src="/static/js/bootstrap.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script src="/static/js/mapcontrol.js"></script>
  </body>
</html>